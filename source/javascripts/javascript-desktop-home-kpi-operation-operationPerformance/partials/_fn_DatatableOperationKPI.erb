DatatableOperationKPI: function () {
	// console.log('DatatableOperationKPI');
    var dataSet = [];
    // var dataSet_aoColumns = [];

    // if ($.fn.DataTable.isDataTable('#datatableOperationKPI') ) {
    //     $('#datatableOperationKPI').empty();
    //     $('#datatableOperationKPI').dataTable().fnDestroy();
    //     $('#datatableOperationKPI > thead > tr').remove();
    // }


    var objVehicleType = {};
    var objDeliveryType = {};
    var valJSONColTable = [];

    // partials : datatableOperationKPIRender function
    <%= partial js_dir + "/javascript-desktop-home-kpi-operation-operationPerformance/partials/fn_DatatableOperationKPI/_fn_datatableOperationKPIRender" %>


        if (fn.paramStartDate) {
          paramStartDate = fn.paramStartDate.format('DD/MM/YYYY');
        }

        if (fn.paramEndDate) {
          paramEndDate = fn.paramEndDate.format('DD/MM/YYYY');
        }
        

          var tmpData = {
              "startDate" : paramStartDate, 
              "endDate" : paramEndDate, 
              "siteName" : fn.paramSiteName
          }

          console.log(tmpData);

          if (!fn.paramSiteName) {
            
            alert("กรุณาเลือกศูนย์");
            return false;

          } 

    //------------------------ datatableOperationKPI -----------------------//
    if (jQuery().dataTable) {
 
        datatableOperationKPI = $('#datatableOperationKPI').DataTable( {
            "processing": true,
            "destroy": true,
            "ajax": {
                "url": "../../../../../api/restful-api/kpiManager/getOperationKpiSummary/",
                "type": "POST",
                "data": JSON.stringify(tmpData),
                "dataSrc": "rows",
                "success": function(data) {
                        datatableOperationKPIRender(data);
                },
                "error": function(jqXHR, textStatus, errorThrown){
                    alert('init error: ' + textStatus);
                }
            },
            "deferRender":    true,
            "scrollX":        true,
            "scrollY":        '40vh',
            "scrollCollapse": true,
            "paging":         false,
            // "data": dataSet,
            "aaData": dataSet,
            // "aoColumns": dataSet_aoColumns, 
            
            //  'aoColumnDefs': [ 
            //     { "mData": 'id', 
            //       "aTargets": [0], 
            //       "render": function ( data, type, row ) {
            //         return data;
            //       }

            //     }, 
            //     { "mData": 'vehicle_licence', "aTargets": [1]},
            //     { "mData": 'average_box', "aTargets": [2]},
            //     { "mData": 'average_drop', "aTargets": [3]}           
            // ],
            // "aoColumnDefs": valJSONColTable,
            <%= partial js_dir + "/javascript-desktop-home-kpi-operation-operationPerformance/partials/fn_DatatableOperationKPI/_aoColumnDefs" %>
            <%= partial js_dir + "/javascript-desktop-home-kpi-operation-operationPerformance/partials/fn_DatatableOperationKPI/_footerCallback" %>
            "order" : [] //disable default sorting, eg sorting on 1st column
        });




    }
    
},
