// Apps
Apps: function () {
	// console.log('Apps');


	// var test = moment().day("Monday").week(1);
	// console.log(test);

	// var test = moment().day("Sunday").week(1).year(2015);
	
	// var start_week1 = moment().week(1).year(2016);
	// var end_week1 = moment().week(1).year(2016);
	// var start_week1 = moment().add(1, 'weeks').startOf('isoWeek').year(2016);
	// var end_week1 = moment().add(1, 'weeks').endOf('isoWeek').year(2016);
	// console.log(start_week1.format('DD/MM/YYYY'));
	// console.log(end_week1.format('DD/MM/YYYY'));

	// var start_week3 = moment().week(4).startOf('week').year(2016);
	// var end_week3 = moment().week(4).endOf('week').year(2016);
	// console.log(start_week3.format('DD/MM/YYYY'));
	// console.log(end_week3.format('DD/MM/YYYY'));

	// var week2 = moment().week(2).year(2016);
	// console.log(week2.format('DD/MM/YYYY'));


	// year_selected_id handler
    <%= partial js_dir + "/javascript-desktop-home-kpi-operation-operationPerformance/partials/fn_Apps/_year_selected_id_handler" %>


  	$("#form_layout_year_select_id").hide(1000);
  	$("#form_layout_week_select_id").hide(1000);
  	$("#form_layout_month_select_id").hide(1000);
  	$("#form_layout_quater_id").hide(1000);
  	$("#form_layout_halfYear_id").hide(1000);


	$('#dropdown_weekly_filter_id').on('click', function() {
      	// console.log('dropdown_weekly_filter_id');

      	$("#form_layout_year_select_id").show(1000);
      	$("#form_layout_week_select_id").show(1000);
      	$("#form_layout_month_select_id").hide(1000);
      	$("#form_layout_quater_id").hide(1000);
      	$("#form_layout_halfYear_id").hide(1000);


	});

	$('#dropdown_monthly_filter_id').on('click', function() {
      	// console.log('dropdown_monthly_filter_id');

      	$("#form_layout_year_select_id").show(1000);
      	$("#form_layout_week_select_id").hide(1000);
      	$("#form_layout_month_select_id").show(1000);
      	$("#form_layout_quater_id").hide(1000);
      	$("#form_layout_halfYear_id").hide(1000);
	});

	$('#dropdown_quater_filter_id').on('click', function() {
      // console.log('dropdown_quater_filter_id');

      	$("#form_layout_year_select_id").show(1000);
      	$("#form_layout_week_select_id").hide(1000);
      	$("#form_layout_month_select_id").hide(1000);
      	$("#form_layout_quater_id").show(1000);
      	$("#form_layout_halfYear_id").hide(1000);
	});

	$('#dropdown_half_year_filter_id').on('click', function() {
      	// console.log('dropdown_half_year_filter_id');

      	$("#form_layout_year_select_id").show(1000);
      	$("#form_layout_week_select_id").hide(1000);
      	$("#form_layout_month_select_id").hide(1000);
      	$("#form_layout_quater_id").hide(1000);
      	$("#form_layout_halfYear_id").show(1000);
	});

  $('#btnFilterInfo').on('click', function() {
        console.log('btnFilterInfo');



        var resultDataTableHeaderTemplate = Handlebars.compile($("#dataTable-header-Template").html());
        // var context = fn.ConvertToContext(fn.paramStartDate, fn.paramEndDate);
           var context = {
                headers: [ 
                  { dateHeader: 'ลำดับ' },
                  { dateHeader: 'ทะเบียนรถ' },
                  { dateHeader: '01/06/2016' },
                  { dateHeader: '02/06/2016' },
                  { dateHeader: '03/06/2016' },
                  { dateHeader: '04/06/2016' },
                  { dateHeader: '05/06/2016' },
                  { dateHeader: '06/06/2016' },
                  { dateHeader: '07/06/2016' },
                  { dateHeader: '08/06/2016' },
                  { dateHeader: '09/06/2016' },
                  { dateHeader: '10/06/2016' },
                  { dateHeader: '11/06/2016' },
                  { dateHeader: '12/06/2016' },
                  { dateHeader: '13/06/2016' },
                  { dateHeader: '14/06/2016' },
                  { dateHeader: '15/06/2016' },
                  { dateHeader: '16/06/2016' },
                  { dateHeader: '17/06/2016' },
                  { dateHeader: '18/06/2016' },
                  { dateHeader: '19/06/2016' },
                  { dateHeader: '20/06/2016' },
                  { dateHeader: '21/06/2016' },
                  { dateHeader: '22/06/2016' },
                  { dateHeader: '23/06/2016' },
                  { dateHeader: '24/06/2016' },
                  { dateHeader: '25/06/2016' },
                  { dateHeader: '26/06/2016' },
                  { dateHeader: '27/06/2016' },
                  { dateHeader: '28/06/2016' },
                  { dateHeader: '29/06/2016' },
                  { dateHeader: '30/06/2016' },
                  { dateHeader: 'Average' }
                ]
              };
        // $("#datatableOperationKPI").html(resultDataTableHeaderTemplate(context));


        $('#datatableOperationKPI_Canvas').html(resultDataTableHeaderTemplate(context)).promise().done(function(){
          fn.DatatableOperationKPI();
        });





        // var centerOptionSelected = $('#center_selected_id').find("option:selected");
        // var centerValueSelected  = centerOptionSelected.val();
        // var centerTextSelected   = centerOptionSelected.text();

        // fn.paramSiteName = centerTextSelected;


        // if (centerValueSelected != "#") {
        //   // console.log('centerValueSelected : ' + centerValueSelected);
        //   // console.log('centerTextSelected : ' + centerTextSelected);

        //   // console.log("site name : " + fn.paramSiteName);
        //   // console.log("start date : " + fn.paramStartDate);
        //   // console.log("end date : " + fn.paramEndDate);

        //   fn.DatatableDrop(fn.paramSiteName, fn.paramStartDate, fn.paramEndDate);



        // } else {
        //   alert('กรุณาเลือกศูนย์รถ');
        // }
        
        // return false;
  });


  $("#center_selected_id").change(function() {

        var centerOptionSelected = $('#center_selected_id').find("option:selected");
        var centerValueSelected  = centerOptionSelected.val();
        var centerTextSelected   = centerOptionSelected.text();

        fn.paramSiteName = centerTextSelected;
        console.log(fn.paramStartDate);
        console.log(fn.paramEndDate);
        // if (fn.paramStartDate) {
        //   fn.paramStartDate = fn.paramStartDate.format('MM/DD/YYYY');
        // }

        // if (fn.paramEndDate) {
        //   fn.paramEndDate = fn.paramEndDate.format('MM/DD/YYYY');
        // }
        
        if (fn.paramStartDate && fn.paramEndDate) {
          fn.HeaderFilter(fn.paramSiteName, fn.paramStartDate, fn.paramEndDate);
          // fn.DatatableOperationKPI_FF();
        }
        

        // console.log('Dropdown selected');
        // console.log("site name : " + fn.paramSiteName);
        // console.log("start date : " + fn.paramStartDate);
        // console.log("end date : " + fn.paramEndDate);

  })

	
}